<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Check variables for within- and/or between-group variation — check_group_variation • performance</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Check variables for within- and/or between-group variation — check_group_variation"><meta name="description" content="Checks if variables vary within and/or between levels of grouping variables.
This function can be used to infer the hierarchical Design of a given
dataset, or detect any predictors that might cause heterogeneity bias (Bell
and Jones, 2015). Use summary() on the output if you are mainly interested
if and which predictors are possibly affected by heterogeneity bias."><meta property="og:description" content="Checks if variables vary within and/or between levels of grouping variables.
This function can be used to infer the hierarchical Design of a given
dataset, or detect any predictors that might cause heterogeneity bias (Bell
and Jones, 2015). Use summary() on the output if you are mainly interested
if and which predictors are possibly affected by heterogeneity bias."><meta property="og:image" content="https://easystats.github.io/performance/reference/figures/card.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@easystats4u"><meta name="twitter:site" content="@easystats4u"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">performance</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.13.0.10</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html" aria-label="Reference"><span class="fa fa-file-code"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html" aria-label="Articles"><span class="fa fa-book-reader"></span> Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html" aria-label="News"><span class="fa fa-newspaper"></span> News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-easystats" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="easystats"><span class="fa fab fa-r-project"></span> easystats</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-easystats"><li><a class="external-link dropdown-item" href="https://easystats.github.io/bayestestR/">bayestestR</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/correlation/">correlation</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/datawizard/">datawizard</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/easystats/">easystats</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/effectsize/">effectsize</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/insight/">insight</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/modelbased/">modelbased</a></li>
    <li><a class="dropdown-item" href="https://easystats.github.io/performance/">performance</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/parameters/">parameters</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/report/">report</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/see/">see</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/easystats4u" aria-label="Twitter"><span class="fa fa-twitter"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/easystats/performance/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Check variables for within- and/or between-group variation</h1>
      <small class="dont-index">Source: <a href="https://github.com/easystats/performance/blob/main/R/check_group_variation.R" class="external-link"><code>R/check_group_variation.R</code></a></small>
      <div class="d-none name"><code>check_group_variation.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Checks if variables vary within and/or between levels of grouping variables.
This function can be used to infer the hierarchical Design of a given
dataset, or detect any predictors that might cause heterogeneity bias (<em>Bell
and Jones, 2015</em>). Use <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> on the output if you are mainly interested
if and which predictors are possibly affected by heterogeneity bias.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">check_group_variation</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">check_group_variation</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'data.frame'</span></span>
<span><span class="fu">check_group_variation</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  select <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  include_by <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  numeric_as_factor <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  tolerance_numeric <span class="op">=</span> <span class="fl">1e-04</span>,</span>
<span>  tolerance_factor <span class="op">=</span> <span class="st">"crossed"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'check_group_variation'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, flatten <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A data frame or a mixed model. See details and examples.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed to other methods</p></dd>


<dt id="arg-select">select<a class="anchor" aria-label="anchor" href="#arg-select"></a></dt>
<dd><p>Character vector (or formula) with names of variables to select
that should be checked. If <code>NULL</code>, selects all variables (except those in
<code>by</code>).</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>Character vector (or formula) with the name of the variable that
indicates the group- or cluster-ID. For cross-classified or nested designs,
<code>by</code> can also identify two or more variables as group- or cluster-IDs.</p></dd>


<dt id="arg-include-by">include_by<a class="anchor" aria-label="anchor" href="#arg-include-by"></a></dt>
<dd><p>When there is more than one grouping variable, should they
be check against each other?</p></dd>


<dt id="arg-numeric-as-factor">numeric_as_factor<a class="anchor" aria-label="anchor" href="#arg-numeric-as-factor"></a></dt>
<dd><p>Should numeric variables be tested as factors?</p></dd>


<dt id="arg-tolerance-numeric">tolerance_numeric<a class="anchor" aria-label="anchor" href="#arg-tolerance-numeric"></a></dt>
<dd><p>The minimal percent of variation (observed <a href="icc.html">icc</a>)
that is tolerated to indicate no within- or no between-effect.</p></dd>


<dt id="arg-tolerance-factor">tolerance_factor<a class="anchor" aria-label="anchor" href="#arg-tolerance-factor"></a></dt>
<dd><p>How should a non-numeric variable be identified as
varying <em>only</em> "within" a grouping variable? Options are:</p><ul><li><p><code>"crossed"</code> - if all groups have all unique values of X.</p></li>
<li><p><code>"balanced"</code> - if all groups have all unique values of X, <em>with equal
frequency</em>.</p></li>
</ul></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>result from <code>check_group_variation()</code></p></dd>


<dt id="arg-flatten">flatten<a class="anchor" aria-label="anchor" href="#arg-flatten"></a></dt>
<dd><p>Logical, if <code>TRUE</code>, the values are returned as character vector, not as list. Duplicated values are removed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with Group, Variable, Variation and Design columns.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function attempt to identify the variability of a set of variables
(<code>select</code>) with respect to one or more grouping variables (<code>by</code>). If <code>x</code> is a
(mixed effect) model, the variability of the fixed effects predictors are
checked with respect to the random grouping variables.
<br><br>
Generally, a variable is considered to vary <em>between</em> groups if is correlated
with those groups, and to vary <em>within</em> groups if it not a constant within at
least one group.</p><div class="section">
<h3 id="numeric-variables">Numeric variables<a class="anchor" aria-label="anchor" href="#numeric-variables"></a></h3>


<p>Numeric variables are partitioned via <code><a href="https://easystats.github.io/datawizard/reference/demean.html" class="external-link">datawizard::demean()</a></code> to their
within- and between-group components. Then, the variance for each of these
two component is calculated. Variables with within-group variance larger than
<code>tolerance_numeric</code> are labeled as <em>within</em>, variables with a between-group
variance larger than <code>tolerance_numeric</code> are labeled as <em>between</em>, and
variables with both variances larger than <code>tolerance_numeric</code> are labeled as
<em>both</em>.</p>
<p>Setting <code>numeric_as_factor = TRUE</code> causes numeric variables to be tested
using the following criteria.</p>
</div>

<div class="section">
<h3 id="non-numeric-variables">Non-numeric variables<a class="anchor" aria-label="anchor" href="#non-numeric-variables"></a></h3>


<p>These variables can have one of the following three labels:</p><ul><li><p><em>between</em> - the variable is correlated with the groups, <em>and</em> is fixed
within each group (each group has exactly one unique, constant value)</p></li>
<li><p><em>within</em> - the variable is <em>crossed</em> with the grouping variable, such that
all possible values appear within each group. The <code>tolerance_factor</code>
argument controls if full balance is also required.</p></li>
<li><p><em>both</em> - the variable is correlated with the groups, but also varies within
each group but is not fully crossed (or, when
<code>tolerance_factor = "balanced"</code> the variable is fully crossed, but not
perfectly balanced).</p></li>
</ul><p>Additionally, the design of non-numeric variables is also checked to see if
they are <em>nested</em> within the groups or is they are <em>crossed</em>. This is
indicated by the <code>Design</code> column.</p>
</div>

<div class="section">
<h3 id="heterogeneity-bias">Heterogeneity bias<a class="anchor" aria-label="anchor" href="#heterogeneity-bias"></a></h3>


<p>Variables that vary both within and between groups can cause a heterogeneity
bias (<em>Bell and Jones, 2015</em>). It is recommended to center (person-mean
centering) those variables to avoid this bias. See <code><a href="https://easystats.github.io/datawizard/reference/demean.html" class="external-link">datawizard::demean()</a></code>
for further details. Use <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> to get a short text result that
indicates if and which predictors are possibly affected by heterogeneity
bias.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<ul><li><p>Bell A, Jones K. 2015. Explaining Fixed Effects: Random Effects
Modeling of Time-Series Cross-Sectional and Panel Data. Political Science
Research and Methods, 3(1), 133–153.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>For further details, read the vignette
<a href="https://easystats.github.io/parameters/articles/demean.html" class="external-link">https://easystats.github.io/parameters/articles/demean.html</a> and also
see documentation for <code><a href="https://easystats.github.io/datawizard/reference/demean.html" class="external-link">datawizard::demean()</a></code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">npk</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">check_group_variation</span><span class="op">(</span><span class="va">npk</span>, by <span class="op">=</span> <span class="st">"block"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Check block variation</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable | Variation |  Design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> N        |    within | crossed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P        |    within | crossed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> K        |    within | crossed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> yield    |      both |        </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">check_group_variation</span><span class="op">(</span><span class="va">iris</span>, by <span class="op">=</span> <span class="st">"Species"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Check Species variation</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable     | Variation | Design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sepal.Length |      both |       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sepal.Width  |      both |       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Petal.Length |      both |       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Petal.Width  |      both |       </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ChickWeight</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">check_group_variation</span><span class="op">(</span><span class="va">ChickWeight</span>, by <span class="op">=</span> <span class="st">"Chick"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Check Chick variation</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable | Variation | Design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> weight   |      both |       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time     |      both |       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Diet     |   between |       </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A subset of mlmRev::egsingle</span></span></span>
<span class="r-in"><span><span class="va">egsingle</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  schoolid <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2020"</span>, <span class="st">"2820"</span><span class="op">)</span>, times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  lowinc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  childid <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"288643371"</span>, <span class="st">"292020281"</span>, <span class="st">"292020361"</span>, <span class="st">"295341521"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    each <span class="op">=</span> <span class="fl">6</span></span></span>
<span class="r-in"><span>  <span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  female <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, times <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  math <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="op">-</span><span class="fl">3.068</span>, <span class="op">-</span><span class="fl">1.13</span>, <span class="op">-</span><span class="fl">0.921</span>, <span class="fl">0.463</span>, <span class="fl">0.021</span>, <span class="fl">2.035</span>,</span></span>
<span class="r-in"><span>    <span class="op">-</span><span class="fl">2.732</span>, <span class="op">-</span><span class="fl">2.097</span>, <span class="op">-</span><span class="fl">0.988</span>, <span class="fl">0.227</span>, <span class="fl">0.403</span>, <span class="fl">1.623</span>,</span></span>
<span class="r-in"><span>    <span class="op">-</span><span class="fl">2.732</span>, <span class="op">-</span><span class="fl">1.898</span>, <span class="op">-</span><span class="fl">0.921</span>, <span class="fl">0.587</span>, <span class="fl">1.578</span>, <span class="fl">2.3</span>,</span></span>
<span class="r-in"><span>    <span class="op">-</span><span class="fl">2.288</span>, <span class="op">-</span><span class="fl">2.162</span>, <span class="op">-</span><span class="fl">1.631</span>, <span class="op">-</span><span class="fl">1.555</span>, <span class="op">-</span><span class="fl">0.725</span>, <span class="fl">0.097</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">check_group_variation</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">egsingle</span>,</span></span>
<span class="r-in"><span>  by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"schoolid"</span>, <span class="st">"childid"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  include_by <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Check schoolid variation</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable | Variation | Design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> childid  |      both | nested</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lowinc   |   between | nested</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> female   |      both |       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> year     |    within |       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> math     |      both |       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Check childid variation</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable | Variation | Design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> schoolid |   between |       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lowinc   |   between |       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> female   |   between |       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> year     |    within |       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> math     |      both |       </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Possible heterogeneity bias due to following predictors:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">- childid:</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">  math</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">- schoolid: childid, female, math</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sleepstudy</span>, package <span class="op">=</span> <span class="st">"lme4"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">check_group_variation</span><span class="op">(</span><span class="va">sleepstudy</span>, select <span class="op">=</span> <span class="st">"Days"</span>, by <span class="op">=</span> <span class="st">"Subject"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Check Subject variation</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable | Variation | Design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Days     |    within |       </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">lme4</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lme4/man/lmer.html" class="external-link">lmer</a></span><span class="op">(</span><span class="va">Reaction</span> <span class="op">~</span> <span class="va">Days</span> <span class="op">+</span> <span class="op">(</span><span class="va">Days</span> <span class="op">|</span> <span class="va">Subject</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">sleepstudy</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">check_group_variation</span><span class="op">(</span><span class="va">mod</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Check Subject variation</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable | Variation | Design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Days     |    within |       </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">No predictor found that could cause heterogeneity bias.</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>, <a href="https://dominiquemakowski.github.io/" class="external-link">Dominique Makowski</a>, <a href="https://home.msbstats.info/" class="external-link">Mattan S. Ben-Shachar</a>, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, Philip Waggoner, <a href="https://wiernik.org/" class="external-link">Brenton M. Wiernik</a>, <a href="https://remi-theriault.com/" class="external-link">Rémi Thériault</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.9000.</p>
</div>

    </footer></div>





  </body></html>

