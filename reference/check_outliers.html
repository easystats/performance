<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Outliers detection (check for influential observations) — check_outliers • performance</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Outliers detection (check for influential observations) — check_outliers"><meta name="description" content='Checks for and locates influential observations (i.e.,
"outliers") via several distance and/or clustering methods. If several
methods are selected, the returned "Outlier" vector will be a composite
outlier score, made of the average of the binary (0 or 1) results of each
method. It represents the probability of each observation of being
classified as an outlier by at least one method. The decision rule used by
default is to classify as outliers observations which composite outlier
score is superior or equal to 0.5 (i.e., that were classified as outliers
by at least half of the methods). See the Details section below
for a description of the methods.'><meta property="og:description" content='Checks for and locates influential observations (i.e.,
"outliers") via several distance and/or clustering methods. If several
methods are selected, the returned "Outlier" vector will be a composite
outlier score, made of the average of the binary (0 or 1) results of each
method. It represents the probability of each observation of being
classified as an outlier by at least one method. The decision rule used by
default is to classify as outliers observations which composite outlier
score is superior or equal to 0.5 (i.e., that were classified as outliers
by at least half of the methods). See the Details section below
for a description of the methods.'><meta property="og:image" content="https://easystats.github.io/performance/reference/figures/card.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@easystats4u"><meta name="twitter:site" content="@easystats4u"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">performance</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.12.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html" aria-label="Reference"><span class="fa fa-file-code"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html" aria-label="Articles"><span class="fa fa-book-reader"></span> Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html" aria-label="News"><span class="fa fa-newspaper"></span> News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-easystats" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="easystats"><span class="fa fab fa-r-project"></span> easystats</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-easystats"><li><a class="external-link dropdown-item" href="https://easystats.github.io/bayestestR/">bayestestR</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/correlation/">correlation</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/datawizard/">datawizard</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/easystats/">easystats</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/effectsize/">effectsize</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/insight/">insight</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/modelbased/">modelbased</a></li>
    <li><a class="dropdown-item" href="https://easystats.github.io/performance/">performance</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/parameters/">parameters</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/report/">report</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/see/">see</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/easystats4u" aria-label="Twitter"><span class="fa fa-twitter"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/easystats/performance/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Outliers detection (check for influential observations)</h1>
      <small class="dont-index">Source: <a href="https://github.com/easystats/performance/blob/v0.12.1/R/check_outliers.R" class="external-link"><code>R/check_outliers.R</code></a></small>
      <div class="d-none name"><code>check_outliers.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Checks for and locates influential observations (i.e.,
"outliers") via several distance and/or clustering methods. If several
methods are selected, the returned "Outlier" vector will be a composite
outlier score, made of the average of the binary (0 or 1) results of each
method. It represents the probability of each observation of being
classified as an outlier by at least one method. The decision rule used by
default is to classify as outliers observations which composite outlier
score is superior or equal to 0.5 (i.e., that were classified as outliers
by at least half of the methods). See the <strong>Details</strong> section below
for a description of the methods.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">check_outliers</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">check_outliers</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cook"</span>, <span class="st">"pareto"</span><span class="op">)</span>,</span>
<span>  threshold <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ID <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'numeric'</span></span>
<span><span class="fu">check_outliers</span><span class="op">(</span><span class="va">x</span>, method <span class="op">=</span> <span class="st">"zscore_robust"</span>, threshold <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'data.frame'</span></span>
<span><span class="fu">check_outliers</span><span class="op">(</span><span class="va">x</span>, method <span class="op">=</span> <span class="st">"mahalanobis"</span>, threshold <span class="op">=</span> <span class="cn">NULL</span>, ID <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'performance_simres'</span></span>
<span><span class="fu">check_outliers</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  iterations <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  alternative <span class="op">=</span> <span class="st">"two.sided"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A model, a data.frame, a <code>performance_simres</code> <code><a href="simulate_residuals.html">simulate_residuals()</a></code>
or a <code>DHARMa</code> object.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>When <code>method = "ics"</code>, further arguments in <code>...</code> are passed
down to <code><a href="https://rdrr.io/pkg/ICSOutlier/man/ics.outlier.html" class="external-link">ICSOutlier::ics.outlier()</a></code>. When <code>method = "mahalanobis"</code>,
they are  passed down to <code><a href="https://rdrr.io/r/stats/mahalanobis.html" class="external-link">stats::mahalanobis()</a></code>. <code>percentage_central</code> can
be specified when <code>method = "mcd"</code>. For objects of class <code>performance_simres</code>
or <code>DHARMa</code>, further arguments are passed down to <code><a href="https://rdrr.io/pkg/DHARMa/man/testOutliers.html" class="external-link">DHARMa::testOutliers()</a></code>.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>The outlier detection method(s). Can be <code>"all"</code> or some of
<code>"cook"</code>, <code>"pareto"</code>, <code>"zscore"</code>, <code>"zscore_robust"</code>, <code>"iqr"</code>, <code>"ci"</code>, <code>"eti"</code>,
<code>"hdi"</code>, <code>"bci"</code>, <code>"mahalanobis"</code>, <code>"mahalanobis_robust"</code>, <code>"mcd"</code>, <code>"ics"</code>,
<code>"optics"</code> or <code>"lof"</code>.</p></dd>


<dt id="arg-threshold">threshold<a class="anchor" aria-label="anchor" href="#arg-threshold"></a></dt>
<dd><p>A list containing the threshold values for each method (e.g.
<code>list('mahalanobis' = 7, 'cook' = 1)</code>), above which an observation is
considered as outlier. If <code>NULL</code>, default values will be used (see
'Details'). If a numeric value is given, it will be used as the threshold
for any of the method run.</p></dd>


<dt id="arg-id">ID<a class="anchor" aria-label="anchor" href="#arg-id"></a></dt>
<dd><p>Optional, to report an ID column along with the row number.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Toggle warnings.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Type of method to test for outliers. Can be one of <code>"default"</code>,
<code>"binomial"</code> or <code>"bootstrap"</code>. Only applies when <code>x</code> is an object returned
by <code><a href="simulate_residuals.html">simulate_residuals()</a></code> or of class <code>DHARMa</code>. See 'Details' in
<code><a href="https://rdrr.io/pkg/DHARMa/man/testOutliers.html" class="external-link">?DHARMa::testOutliers</a></code> for a detailed description of the types.</p></dd>


<dt id="arg-iterations">iterations<a class="anchor" aria-label="anchor" href="#arg-iterations"></a></dt>
<dd><p>Number of simulations to run.</p></dd>


<dt id="arg-alternative">alternative<a class="anchor" aria-label="anchor" href="#arg-alternative"></a></dt>
<dd><p>A character string specifying the alternative hypothesis.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A logical vector of the detected outliers with a nice printing
method: a check (message) on whether outliers were detected or not. The
information on the distance measure and whether or not an observation is
considered as outlier can be recovered with the <a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a>
function. Note that the function will (silently) return a vector of <code>FALSE</code>
for non-supported data types such as character strings.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Outliers can be defined as particularly influential observations.
Most methods rely on the computation of some distance metric, and the
observations greater than a certain threshold are considered outliers.
Importantly, outliers detection methods are meant to provide information to
consider for the researcher, rather than to be an automatized procedure
which mindless application is a substitute for thinking.</p>
<p>An <strong>example sentence</strong> for reporting the usage of the composite method
could be:</p>
<p><em>"Based on a composite outlier score (see the 'check_outliers' function
in the 'performance' R package; Lüdecke et al., 2021) obtained via the joint
application of multiple outliers detection algorithms (Z-scores, Iglewicz,
1993; Interquartile range (IQR); Mahalanobis distance, Cabana, 2019; Robust
Mahalanobis distance, Gnanadesikan and Kettenring, 1972; Minimum Covariance
Determinant, Leys et al., 2018; Invariant Coordinate Selection, Archimbaud et
al., 2018; OPTICS, Ankerst et al., 1999; Isolation Forest, Liu et al. 2008;
and Local Outlier Factor, Breunig et al., 2000), we excluded n participants
that were classified as outliers by at least half of the methods used."</em></p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>There is also a
<a href="https://easystats.github.io/see/articles/performance.html" class="external-link"><code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>-method</a>
implemented in the
<a href="https://easystats.github.io/see/" class="external-link"><span class="pkg">see</span>-package</a>. <strong>Please
note</strong> that the range of the distance-values along the y-axis is re-scaled
to range from 0 to 1.</p>
    </div>
    <div class="section level2">
    <h2 id="model-specific-methods">Model-specific methods<a class="anchor" aria-label="anchor" href="#model-specific-methods"></a></h2>


<ul><li><p><strong>Cook's Distance</strong>:
Among outlier detection methods, Cook's distance and leverage are less
common than the basic Mahalanobis distance, but still used. Cook's distance
estimates the variations in regression coefficients after removing each
observation, one by one (Cook, 1977). Since Cook's distance is in the metric
of an F distribution with p and n-p degrees of freedom, the median point of
the quantile distribution can be used as a cut-off (Bollen, 1985). A common
approximation or heuristic is to use 4 divided by the numbers of
observations, which usually corresponds to a lower threshold (i.e., more
outliers are detected). This only works for frequentist models. For Bayesian
models, see <code>pareto</code>.</p></li>
<li><p><strong>Pareto</strong>:
The reliability and approximate convergence of Bayesian models can be
assessed using the estimates for the shape parameter k of the generalized
Pareto distribution. If the estimated tail shape parameter k exceeds 0.5, the
user should be warned, although in practice the authors of the <strong>loo</strong>
package observed good performance for values of k up to 0.7 (the default
threshold used by <code>performance</code>).</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="univariate-methods">Univariate methods<a class="anchor" aria-label="anchor" href="#univariate-methods"></a></h2>


<ul><li><p><strong>Z-scores</strong> <code>("zscore", "zscore_robust")</code>:
The Z-score, or standard score, is a way of describing a data point as
deviance from a central value, in terms of standard deviations from the mean
(<code>"zscore"</code>) or, as it is here the case (<code>"zscore_robust"</code>) by
default (Iglewicz, 1993), in terms of Median Absolute Deviation (MAD) from
the median (which are robust measures of dispersion and centrality). The
default threshold to classify outliers is 1.959 (<code>threshold = list("zscore" = 1.959)</code>),
corresponding to the 2.5% (<code>qnorm(0.975)</code>) most extreme observations
(assuming the data is normally distributed). Importantly, the Z-score
method is univariate: it is computed column by column. If a data frame is
passed, the Z-score is calculated for each variable separately, and the
maximum (absolute) Z-score is kept for each observations. Thus, all
observations that are extreme on at least one variable might be detected
as outliers. Thus, this method is not suited for high dimensional data
(with many columns), returning too liberal results (detecting many outliers).</p></li>
<li><p><strong>IQR</strong> <code>("iqr")</code>:
Using the IQR (interquartile range) is a robust method developed by John
Tukey, which often appears in box-and-whisker plots (e.g., in
<a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">ggplot2::geom_boxplot</a>). The interquartile range is the range between the first
and the third quartiles. Tukey considered as outliers any data point that
fell outside of either 1.5 times (the default threshold is 1.7) the IQR below
the first or above the third quartile. Similar to the Z-score method, this is
a univariate method for outliers detection, returning outliers detected for
at least one column, and might thus not be suited to high dimensional data.
The distance score for the IQR is the absolute deviation from the median of
the upper and lower IQR thresholds. Then, this value is divided by the IQR
threshold, to “standardize” it and facilitate interpretation.</p></li>
<li><p><strong>CI</strong> <code>("ci", "eti", "hdi", "bci")</code>:
Another univariate method is to compute, for each variable, some sort of
"confidence" interval and consider as outliers values lying beyond the edges
of that interval. By default, <code>"ci"</code> computes the Equal-Tailed Interval
(<code>"eti"</code>), but other types of intervals are available, such as Highest
Density Interval (<code>"hdi"</code>) or the Bias Corrected and Accelerated
Interval (<code>"bci"</code>). The default threshold is <code>0.95</code>, considering
as outliers all observations that are outside the 95% CI on any of the
variable. See <code><a href="https://easystats.github.io/bayestestR/reference/ci.html" class="external-link">bayestestR::ci()</a></code> for more details
about the intervals. The distance score for the CI methods is the absolute
deviation from the median of the upper and lower CI thresholds. Then, this
value is divided by the difference between the upper and lower CI bounds
divided by two, to “standardize” it and facilitate interpretation.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="multivariate-methods">Multivariate methods<a class="anchor" aria-label="anchor" href="#multivariate-methods"></a></h2>


<ul><li><p><strong>Mahalanobis Distance</strong>:
Mahalanobis distance (Mahalanobis, 1930) is often used for multivariate
outliers detection as this distance takes into account the shape of the
observations. The default <code>threshold</code> is often arbitrarily set to some
deviation (in terms of SD or MAD) from the mean (or median) of the
Mahalanobis distance. However, as the Mahalanobis distance can be
approximated by a Chi squared distribution (Rousseeuw and Van Zomeren, 1990),
we can use the alpha quantile of the chi-square distribution with k degrees
of freedom (k being the number of columns). By default, the alpha threshold
is set to 0.025 (corresponding to the 2.5\<!-- % most extreme observations; -->
Cabana, 2019). This criterion is a natural extension of the median plus or
minus a coefficient times the MAD method (Leys et al., 2013).</p></li>
<li><p><strong>Robust Mahalanobis Distance</strong>:
A robust version of Mahalanobis distance using an Orthogonalized
Gnanadesikan-Kettenring pairwise estimator (Gnanadesikan and Kettenring,
1972). Requires the <strong>bigutilsr</strong> package. See the <code><a href="https://rdrr.io/pkg/bigutilsr/man/covrob_ogk.html" class="external-link">bigutilsr::dist_ogk()</a></code>
function.</p></li>
<li><p><strong>Minimum Covariance Determinant (MCD)</strong>:
Another robust version of Mahalanobis. Leys et al. (2018) argue that
Mahalanobis Distance is not a robust way to determine outliers, as it uses
the means and covariances of all the data - including the outliers - to
determine individual difference scores. Minimum Covariance Determinant
calculates the mean and covariance matrix based on the most central subset of
the data (by default, 66\<!-- %), before computing the Mahalanobis Distance. This -->
is deemed to be a more robust method of identifying and removing outliers
than regular Mahalanobis distance.
This method has a <code>percentage_central</code> argument that allows specifying
the breakdown point (0.75, the default, is recommended by Leys et al. 2018,
but a commonly used alternative is 0.50).</p></li>
<li><p><strong>Invariant Coordinate Selection (ICS)</strong>:
The outlier are detected using ICS, which by default uses an alpha threshold
of 0.025 (corresponding to the 2.5\<!-- % most extreme observations) as a cut-off -->
value for outliers classification. Refer to the help-file of
<code><a href="https://rdrr.io/pkg/ICSOutlier/man/ics.outlier.html" class="external-link">ICSOutlier::ics.outlier()</a></code> to get more details about this procedure.
Note that <code>method = "ics"</code> requires both <strong>ICS</strong> and <strong>ICSOutlier</strong>
to be installed, and that it takes some time to compute the results. You
can speed up computation time using parallel computing. Set the number of
cores to use with <code>options(mc.cores = 4)</code> (for example).</p></li>
<li><p><strong>OPTICS</strong>:
The Ordering Points To Identify the Clustering Structure (OPTICS) algorithm
(Ankerst et al., 1999) is using similar concepts to DBSCAN (an unsupervised
clustering technique that can be used for outliers detection). The threshold
argument is passed as <code>minPts</code>, which corresponds to the minimum size
of a cluster. By default, this size is set at 2 times the number of columns
(Sander et al., 1998). Compared to the other techniques, that will always
detect several outliers (as these are usually defined as a percentage of
extreme values), this algorithm functions in a different manner and won't
always detect outliers. Note that <code>method = "optics"</code> requires the
<strong>dbscan</strong> package to be installed, and that it takes some time to compute
the results.</p></li>
<li><p><strong>Local Outlier Factor</strong>:
Based on a K nearest neighbors algorithm, LOF compares the local density of
a point to the local densities of its neighbors instead of computing a
distance from the center (Breunig et al., 2000). Points that have a
substantially lower density than their neighbors are considered outliers. A
LOF score of approximately 1 indicates that density around the point is
comparable to its neighbors. Scores significantly larger than 1 indicate
outliers. The default threshold of 0.025 will classify as outliers the
observations located at <code>qnorm(1-0.025) * SD)</code> of the log-transformed
LOF distance. Requires the <strong>dbscan</strong> package.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="methods-for-simulated-residuals">Methods for simulated residuals<a class="anchor" aria-label="anchor" href="#methods-for-simulated-residuals"></a></h2>



<p>The approach for detecting outliers based on simulated residuals differs
from the traditional methods and may not be detecting outliers as expected.
Literally, this approach compares observed to simulated values. However, we
do not know the deviation of the observed data to the model expectation, and
thus, the term "outlier" should be taken with a grain of salt. It refers to
"simulation outliers". Basically, the comparison tests whether on observed
data point is outside the simulated range. It is strongly recommended to read
the related documentations in the <strong>DHARMa</strong> package, e.g. <code><a href="https://rdrr.io/pkg/DHARMa/man/testOutliers.html" class="external-link">?DHARMa::testOutliers</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="threshold-specification">Threshold specification<a class="anchor" aria-label="anchor" href="#threshold-specification"></a></h2>



<p>Default thresholds are currently specified as follows:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  <span class="at">zscore =</span> stats<span class="sc">::</span><span class="fu">qnorm</span>(<span class="at">p =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fl">0.001</span> <span class="sc">/</span> <span class="dv">2</span>),</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="at">zscore_robust =</span> stats<span class="sc">::</span><span class="fu">qnorm</span>(<span class="at">p =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fl">0.001</span> <span class="sc">/</span> <span class="dv">2</span>),</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  <span class="at">iqr =</span> <span class="fl">1.7</span>,</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  <span class="at">ci =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fl">0.001</span>,</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>  <span class="at">eti =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fl">0.001</span>,</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>  <span class="at">hdi =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fl">0.001</span>,</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>  <span class="at">bci =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fl">0.001</span>,</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>  <span class="at">cook =</span> stats<span class="sc">::</span><span class="fu">qf</span>(<span class="fl">0.5</span>, <span class="fu">ncol</span>(x), <span class="fu">nrow</span>(x) <span class="sc">-</span> <span class="fu">ncol</span>(x)),</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>  <span class="at">pareto =</span> <span class="fl">0.7</span>,</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>  <span class="at">mahalanobis =</span> stats<span class="sc">::</span><span class="fu">qchisq</span>(<span class="at">p =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fl">0.001</span>, <span class="at">df =</span> <span class="fu">ncol</span>(x)),</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>  <span class="at">mahalanobis_robust =</span> stats<span class="sc">::</span><span class="fu">qchisq</span>(<span class="at">p =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fl">0.001</span>, <span class="at">df =</span> <span class="fu">ncol</span>(x)),</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>  <span class="at">mcd =</span> stats<span class="sc">::</span><span class="fu">qchisq</span>(<span class="at">p =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fl">0.001</span>, <span class="at">df =</span> <span class="fu">ncol</span>(x)),</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>  <span class="at">ics =</span> <span class="fl">0.001</span>,</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>  <span class="at">optics =</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">ncol</span>(x),</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a>  <span class="at">lof =</span> <span class="fl">0.001</span></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a>)</span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="meta-analysis-models">Meta-analysis models<a class="anchor" aria-label="anchor" href="#meta-analysis-models"></a></h2>


<p>For meta-analysis models (e.g. objects of class <code>rma</code> from the <em>metafor</em>
package or <code>metagen</code> from package <em>meta</em>), studies are defined as outliers
when their confidence interval lies outside the confidence interval of the
pooled effect.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<ul><li><p>Archimbaud, A., Nordhausen, K., and Ruiz-Gazen, A. (2018). ICS for
multivariate outlier detection with application to quality control.
<em>Computational Statistics and Data Analysis</em>, <em>128</em>, 184-199.
<a href="https://doi.org/10.1016/j.csda.2018.06.011" class="external-link">doi:10.1016/j.csda.2018.06.011</a></p></li>
<li><p>Gnanadesikan, R., and Kettenring, J. R. (1972). Robust estimates, residuals,
and outlier detection with multiresponse data. <em>Biometrics</em>, 81-124.</p></li>
<li><p>Bollen, K. A., and Jackman, R. W. (1985). Regression diagnostics: An
expository treatment of outliers and influential cases. <em>Sociological Methods
and Research</em>, <em>13</em>(4), 510-542.</p></li>
<li><p>Cabana, E., Lillo, R. E., and Laniado, H. (2019). Multivariate outlier
detection based on a robust Mahalanobis distance with shrinkage estimators.
arXiv preprint arXiv:1904.02596.</p></li>
<li><p>Cook, R. D. (1977). Detection of influential observation in linear
regression. <em>Technometrics</em>, <em>19</em>(1), 15-18.</p></li>
<li><p>Iglewicz, B., and Hoaglin, D. C. (1993). How to detect and handle outliers
(Vol. 16). Asq Press.</p></li>
<li><p>Leys, C., Klein, O., Dominicy, Y., and Ley, C. (2018). Detecting
multivariate outliers: Use a robust variant of Mahalanobis distance. <em>Journal
of Experimental Social Psychology</em>, 74, 150-156.</p></li>
<li><p>Liu, F. T., Ting, K. M., and Zhou, Z. H. (2008, December). Isolation forest.
In 2008 Eighth IEEE International Conference on Data Mining (pp. 413-422).
IEEE.</p></li>
<li><p>Lüdecke, D., Ben-Shachar, M. S., Patil, I., Waggoner, P., and Makowski, D.
(2021). performance: An R package for assessment, comparison and testing of
statistical models. <em>Journal of Open Source Software</em>, <em>6</em>(60), 3139.
<a href="https://doi.org/10.21105/joss.03139" class="external-link">doi:10.21105/joss.03139</a></p></li>
<li><p>Thériault, R., Ben-Shachar, M. S., Patil, I., Lüdecke, D., Wiernik, B. M.,
and Makowski, D. (2023). Check your outliers! An introduction to identifying
statistical outliers in R with easystats. <em>Behavior Research Methods</em>, 1-11.
<a href="https://doi.org/10.3758/s13428-024-02356-w" class="external-link">doi:10.3758/s13428-024-02356-w</a></p></li>
<li><p>Rousseeuw, P. J., and Van Zomeren, B. C. (1990). Unmasking multivariate
outliers and leverage points. <em>Journal of the American Statistical
association</em>, <em>85</em>(411), 633-639.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://easystats.github.io/see/reference/plot.see_check_outliers.html" class="external-link">see::plot.see_check_outliers()</a></code> for options to customize the plot.</p>
<p>Other functions to check model assumptions and and assess model quality:
<code><a href="check_autocorrelation.html">check_autocorrelation</a>()</code>,
<code><a href="check_collinearity.html">check_collinearity</a>()</code>,
<code><a href="check_convergence.html">check_convergence</a>()</code>,
<code><a href="check_heteroscedasticity.html">check_heteroscedasticity</a>()</code>,
<code><a href="check_homogeneity.html">check_homogeneity</a>()</code>,
<code><a href="check_model.html">check_model</a>()</code>,
<code><a href="check_overdispersion.html">check_overdispersion</a>()</code>,
<code><a href="check_predictions.html">check_predictions</a>()</code>,
<code><a href="check_singularity.html">check_singularity</a>()</code>,
<code><a href="check_zeroinflation.html">check_zeroinflation</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="co"># Size nrow(data) = 32</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For single variables ------------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">outliers_list</span> <span class="op">&lt;-</span> <span class="fu">check_outliers</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">mpg</span><span class="op">)</span> <span class="co"># Find outliers</span></span></span>
<span class="r-in"><span><span class="va">outliers_list</span> <span class="co"># Show the row index of the outliers</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">OK: No outliers detected.</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">- Based on the following method and threshold: zscore_robust (3.291).</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">- For variable: data$mpg</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">outliers_list</span><span class="op">)</span> <span class="co"># The object is a binary vector...</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span>
<span class="r-in"><span><span class="va">filtered_data</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="op">!</span><span class="va">outliers_list</span>, <span class="op">]</span> <span class="co"># And can be used to filter a data frame</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">filtered_data</span><span class="op">)</span> <span class="co"># New size, 28 (4 outliers removed)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 32</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Find all observations beyond +/- 2 SD</span></span></span>
<span class="r-in"><span><span class="fu">check_outliers</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">mpg</span>, method <span class="op">=</span> <span class="st">"zscore"</span>, threshold <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">2 outliers detected: cases 18, 20.</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">- Based on the following method and threshold: zscore (2).</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">- For variable: data$mpg.</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Outliers per variable (zscore): </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`data$mpg`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Row Distance_Zscore</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  18        2.042389</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  20        2.291272</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For dataframes ------------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="fu">check_outliers</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="co"># It works the same way on data frames</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">OK: No outliers detected.</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">- Based on the following method and threshold: mahalanobis (31.264).</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">- For variables: mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can also use multiple methods at once</span></span></span>
<span class="r-in"><span><span class="va">outliers_list</span> <span class="op">&lt;-</span> <span class="fu">check_outliers</span><span class="op">(</span><span class="va">data</span>, method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"mahalanobis"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"iqr"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"zscore"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">outliers_list</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">OK: No outliers detected.</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">- Based on the following methods and thresholds: mahalanobis (3.291), iqr (2), zscore (31.264).</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">- For variables: mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using `as.data.frame()`, we can access more details!</span></span></span>
<span class="r-in"><span><span class="va">outliers_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">outliers_list</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">outliers_info</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Row Distance_Zscore Outlier_Zscore Distance_IQR Outlier_IQR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1        1.189901              0    0.4208483           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2        1.189901              0    0.2941176           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3        1.224858              0    0.5882353           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4        1.122152              0    0.5882353           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   5        1.043081              0    0.3915954           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   6        1.564608              0    0.6809025           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Distance_Mahalanobis Outlier_Mahalanobis Outlier</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             8.946673                   0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2             8.287933                   0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3             8.937150                   0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4             6.096726                   0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5             5.429061                   0       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6             8.877558                   0       0</span>
<span class="r-in"><span><span class="va">outliers_info</span><span class="op">$</span><span class="va">Outlier</span> <span class="co"># Including the probability of being an outlier</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 0.0000000 0.3333333 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15] 0.0000000 0.3333333 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [22] 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [29] 0.0000000 0.0000000 0.3333333 0.0000000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># And we can be more stringent in our outliers removal process</span></span></span>
<span class="r-in"><span><span class="va">filtered_data</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="va">outliers_info</span><span class="op">$</span><span class="va">Outlier</span> <span class="op">&lt;</span> <span class="fl">0.1</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We can run the function stratified by groups using `{datawizard}` package:</span></span></span>
<span class="r-in"><span><span class="va">group_iris</span> <span class="op">&lt;-</span> <span class="fu">datawizard</span><span class="fu">::</span><span class="fu"><a href="https://easystats.github.io/datawizard/reference/data_group.html" class="external-link">data_group</a></span><span class="op">(</span><span class="va">iris</span>, <span class="st">"Species"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">check_outliers</span><span class="op">(</span><span class="va">group_iris</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">OK: No outliers detected.</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">- Based on the following method and threshold: mahalanobis (20).</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">- For variables: Sepal.Length, Sepal.Width, Petal.Length, Petal.Width</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># nolint start</span></span></span>
<span class="r-in"><span><span class="co"># nolint end</span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># You can also run all the methods</span></span></span>
<span class="r-in"><span><span class="fu">check_outliers</span><span class="op">(</span><span class="va">data</span>, method <span class="op">=</span> <span class="st">"all"</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Package `parallel` is installed, but `check_outliers()` will run on a</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   single core.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   To use multiple cores, set `options(mc.cores = 4)` (for example).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">3 outliers detected: cases 9, 29, 31.</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">- Based on the following methods and thresholds: zscore_robust (3.291),</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">  iqr (2), ci (1), cook (1), pareto (0.7), mahalanobis (31.264),</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">  mahalanobis_robust (31.264), mcd (31.264), ics (0.001), optics (22), lof</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">  (0.001).</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">- For variables: mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb.</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">Note: Outliers were classified as such by</span> <span style="color: #BBBB00;">at least half of the selected methods. </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The following observations were considered outliers for two or more</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   variables by at least one of the selected methods:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Row n_Zscore_robust n_IQR n_ci n_Mahalanobis_robust          n_MCD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    3               2     0    0                    0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    9               2     1    1       (Multivariate) (Multivariate)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   18               2     0    0                    0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   19               2     0    2                    0 (Multivariate)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   20               2     0    2                    0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   26               2     0    0                    0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   28               2     0    1       (Multivariate) (Multivariate)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   31               2     2    2       (Multivariate) (Multivariate)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   32               2     0    0                    0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   8               1     0    0                    0 (Multivariate)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  21               1     0    0       (Multivariate)              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  27               1     0    0       (Multivariate) (Multivariate)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  29               1     0    1       (Multivariate) (Multivariate)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  30               1     0    0                    0 (Multivariate)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15   7               0     0    0       (Multivariate)              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  24               0     0    0       (Multivariate)              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             n_ICS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1               0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  (Multivariate)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3               0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4               0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5               0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6               0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7               0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8               0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9               0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 (Multivariate)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16              0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For statistical models ---------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># select only mpg and disp (continuous)</span></span></span>
<span class="r-in"><span><span class="va">mt1</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="co"># create some fake outliers and attach outliers to main df</span></span></span>
<span class="r-in"><span><span class="va">mt2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">mt1</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  mpg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">37</span>, <span class="fl">40</span><span class="op">)</span>, disp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">300</span>, <span class="fl">400</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  hp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">110</span>, <span class="fl">120</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># fit model with outliers</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">disp</span> <span class="op">~</span> <span class="va">mpg</span> <span class="op">+</span> <span class="va">hp</span>, data <span class="op">=</span> <span class="va">mt2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">outliers_list</span> <span class="op">&lt;-</span> <span class="fu">check_outliers</span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">outliers_list</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="check_outliers-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">insight</span><span class="fu">::</span><span class="fu"><a href="https://easystats.github.io/insight/reference/get_data.html" class="external-link">get_data</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span><span class="op">[</span><span class="va">outliers_list</span>, <span class="op">]</span> <span class="co"># Show outliers data</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               disp mpg  hp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maserati Bora  301  15 335</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2              400  40 120</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>, <a href="https://dominiquemakowski.github.io/" class="external-link">Dominique Makowski</a>, <a href="https://home.msbstats.info/" class="external-link">Mattan S. Ben-Shachar</a>, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, Philip Waggoner, <a href="https://wiernik.org/" class="external-link">Brenton M. Wiernik</a>, <a href="https://remi-theriault.com/" class="external-link">Rémi Thériault</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.9000.</p>
</div>

    </footer></div>





  </body></html>

