<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Test if Models are Different — test_bf • performance</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Test if Models are Different — test_bf" />
<meta property="og:description" content="Testing whether models are &quot;different&quot; in terms of accuracy or explanatory power is a delicate and often complex
procedure, with many limitations and prerequisites. Moreover, many tests exist, each coming with its own interpretation, and set of strengths and weaknesses.
 
The test_performance() function runs the most relevant and appropriate tests based on the type of input (for instance, whether the models are nested or not). However, it still requires the user to understand what the tests are and what they do in order to prevent their misinterpretation. See the details section for more information regarding the different tests and their interpretation." />
<meta property="og:image" content="https://easystats.github.io/performance/logo.png" />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">performance</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../reference/index.html">Features</a>
</li>
<li>
  <a href="../articles/compare.html">Compare, Test and Select Models</a>
</li>
<li>
  <a href="../articles/r2.html">Explained Variance (R-Squared)</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/easystats/performance/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Test if Models are Different</h1>
    <small class="dont-index">Source: <a href='https://github.com/easystats/performance/blob/master/R/test_bf.R'><code>R/test_bf.R</code></a>, <a href='https://github.com/easystats/performance/blob/master/R/test_likelihoodratio.R'><code>R/test_likelihoodratio.R</code></a>, <a href='https://github.com/easystats/performance/blob/master/R/test_performance.R'><code>R/test_performance.R</code></a>, and 2 more</small>
    <div class="hidden name"><code>test_performance.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Testing whether models are "different" in terms of accuracy or explanatory power is a delicate and often complex
procedure, with many limitations and prerequisites. Moreover, many tests exist, each coming with its own interpretation, and set of strengths and weaknesses.
<br /> <br />
The <code>test_performance()</code> function runs the most relevant and appropriate tests based on the type of input (for instance, whether the models are <em>nested</em> or not). However, it still requires the user to understand what the tests are and what they do in order to prevent their misinterpretation. See the <strong>details</strong> section for more information regarding the different tests and their interpretation.</p>
    </div>

    <div class="ref-usage sourceCode"><pre class='sourceCode r'><code><span class='fu'>test_bf</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for default</span>
<span class='fu'>test_bf</span><span class='op'>(</span><span class='va'>...</span>, text_length <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>test_likelihoodratio</span><span class='op'>(</span><span class='va'>...</span>, estimator <span class='op'>=</span> <span class='st'>"ML"</span><span class='op'>)</span>

<span class='fu'>performance_lrt</span><span class='op'>(</span><span class='va'>...</span>, estimator <span class='op'>=</span> <span class='st'>"ML"</span><span class='op'>)</span>

<span class='fu'>test_lrt</span><span class='op'>(</span><span class='va'>...</span>, estimator <span class='op'>=</span> <span class='st'>"ML"</span><span class='op'>)</span>

<span class='fu'>test_performance</span><span class='op'>(</span><span class='va'>...</span>, reference <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>

<span class='fu'>test_vuong</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span>

<span class='fu'>test_wald</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span></code></pre></div>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>Multiple model objects.</p></td>
    </tr>
    <tr>
      <th>text_length</th>
      <td><p>Numeric, length (number of chars) of output lines.
<code>test_bf()</code> describes models by their formulas, which can lead to
overly long lines in the output. <code>text_length</code> fixes the length of
lines to a specified limit.</p></td>
    </tr>
    <tr>
      <th>estimator</th>
      <td><p>Applied when comparing regression models using
<code>test_likelihoodratio()</code>. Corresponds to the different estimators for
the standard deviation of the errors. If <code>estimator="OLS"</code> (default),
then it uses the same method as <code>anova(..., test="LRT")</code> implemented
in base R, i.e., scaling by n-k (the unbiased OLS estimator) and using this
estimator under the alternative hypothesis. If <code>estimator="ML"</code>, which
is for instance used by <code>lrtest(...)</code> in package <span class="pkg">lmtest</span>, the
scaling is done by n (the biased ML estimator) and the estimator under the
null hypothesis. In moderately large samples, the differences should be
negligible, but it is possible that OLS would perform slightly better in
small samples with Gaussian errors.</p></td>
    </tr>
    <tr>
      <th>reference</th>
      <td><p>This only applies when models are non-nested, and determines
which model should be taken as a reference, against which all the other
models are tested.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame containing the relevant indices.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
<h3 class='hasAnchor' id='nested-vs-non-nested-models'><a class='anchor' aria-hidden='true' href='#nested-vs-non-nested-models'></a>Nested vs. Non-nested Models</h3>
<p>Model's "nesting" is an important concept of models comparison. Indeed, many
tests only make sense when the models are <em>"nested",</em> i.e., when their
predictors are nested. This means that all the predictors of a model are
contained within the predictors of a larger model (sometimes referred to as
the encompassing model). For instance, <code>model1 (y ~ x1 + x2)</code> is
"nested" within <code>model2 (y ~ x1 + x2 + x3)</code>. Usually, people have a list
of nested models, for instance <code>m1 (y ~ 1)</code>, <code>m2 (y ~ x1)</code>,
<code>m3 (y ~ x1 + x2)</code>, <code>m4 (y ~ x1 + x2 + x3)</code>, and it is conventional
that they are "ordered" from the smallest to largest, but it is up to the
user to reverse the order from largest to smallest. The test then shows
whether a more parsimonious model, or whether adding a predictor, results in
a significant difference in the model's performance. In this case, models are
usually compared <em>sequentially</em>: m2 is tested against m1, m3 against m2,
m4 against m3, etc.
<br /><br />
Two models are considered as <em>"non-nested"</em> if their predictors are
different. For instance, <code>model1 (y ~ x1 + x2)</code> and <code>model2 (y ~ x3
+ x4)</code>. In the case of non-nested models, all models are usually compared
against the same <em>reference</em> model (by default, the first of the list).
<br /><br />
Nesting is detected via the <code><a href='https://easystats.github.io/insight/reference/is_nested_models.html'>insight::is_nested_models()</a></code> function.
Note that, apart from the nesting, in order for the tests to be valid,
other requirements have often to be the fulfilled. For instance, outcome
variables (the response) must be the same. You cannot meaningfully test
whether apples are significantly different from oranges!</p>

<h3 class='hasAnchor' id='tests-description'><a class='anchor' aria-hidden='true' href='#tests-description'></a>Tests Description</h3>


<ul>
<li><p><strong>Bayes factor for Model Comparison</strong> - <code>test_bf()</code>: If all
  models were fit from the same data, the returned <code>BF</code> shows the Bayes
  Factor (see <code><a href='https://easystats.github.io/bayestestR/reference/bayesfactor_models.html'>bayestestR::bayesfactor_models()</a></code>) for each model against
  the reference model (which depends on whether the models are nested or
  not). Check out
  <a href='https://easystats.github.io/bayestestR/articles/bayes_factors.html#bayesfactor_models'>this
  vignette</a> for more details.</p></li>
<li><p><strong>Wald's F-Test</strong> - <code>test_wald()</code>: The Wald test is a rough
  approximation of the Likelihood Ratio Test. However, it is more applicable
  than the LRT: you can often run a Wald test in situations where no other
  test can be run. Importantly, this test only makes statistical sense if the
  models are nested.<br /> Note: this test is also available in base R through the
  <code><a href='https://rdrr.io/pkg/lavaan/man/lavTestLRT.html'>anova()</a></code> function. It returns an <code>F-value</code> column
  as a statistic and its associated <code>p-value</code>.</p></li>
<li><p><strong>Likelihood Ratio Test (LRT)</strong> - <code>test_likelihoodratio()</code>:
  The LRT tests which model is a better (more likely) explanation of the
  data. Likelihood-Ratio-Test (LRT) gives usually somewhat close results (if
  not equivalent) to the Wald test and, similarly, only makes sense for
  nested models. However, Maximum likelihood tests make stronger assumptions
  than method of moments tests like the F-test, and in turn are more
  efficient. Agresti (1990) suggests that you should use the LRT instead of
  the Wald test for small sample sizes (under or about 30) or if the
  parameters are large.<br /> Note: for regression models, this is similar to
  <code>anova(..., test="LRT")</code> (on models) or <code>lmtest::lrtest(...)</code>, depending on
  the <code>estimator</code> argument. For <code>lavaan</code> models (SEM, CFA), the
  function calls <code><a href='https://rdrr.io/pkg/lavaan/man/lavTestLRT.html'>lavaan::lavTestLRT()</a></code>.</p></li>
<li><p><strong>Vuong's Test</strong> - <code>test_vuong()</code>: Vuong's (1989) test can
  be used both for nested and non-nested models, and actually consists of two
  tests.</p><ul>
<li><p>The <strong>Test of Distinguishability</strong> (the <code>Omega2</code> column and
  its associated p-value) indicates whether or not the models can possibly be
  distinguished on the basis of the observed data. If its p-value is
  significant, it means the models are distinguishable.</p></li>
<li><p>The <strong>Robust Likelihood Test</strong> (the <code>LR</code> column and its
  associated p-value) indicates whether each model fits better than the
  reference model. If the models are nested, then the test works as a robust
  LRT. The code for this function is adapted from the <code>nonnest2</code>
  package, and all credit go to their authors.</p></li>
</ul></li>
</ul>


    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    
<ul>
<li><p>Vuong, Q. H. (1989). Likelihood ratio tests for model selection and
  non-nested hypotheses. Econometrica, 57, 307-333.</p></li>
<li><p>Merkle, E. C., You, D., &amp; Preacher, K. (2016). Testing non-nested
  structural equation models. Psychological Methods, 21, 151-163.</p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='compare_performance.html'>compare_performance()</a></code> to compare
  the performance indices of many different models.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <div class="ref-examples sourceCode"><pre class='sourceCode r'><code><span class='r-in'><span class='co'># Nested Models</span></span>
<span class='r-in'><span class='co'># -------------</span></span>
<span class='r-in'><span class='va'>m1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Sepal.Length</span> <span class='op'>~</span> <span class='va'>Petal.Width</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>m2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Sepal.Length</span> <span class='op'>~</span> <span class='va'>Petal.Width</span> <span class='op'>+</span> <span class='va'>Species</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>m3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Sepal.Length</span> <span class='op'>~</span> <span class='va'>Petal.Width</span> <span class='op'>*</span> <span class='va'>Species</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='fu'>test_performance</span><span class='op'>(</span><span class='va'>m1</span>, <span class='va'>m2</span>, <span class='va'>m3</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Name | Model |    BF |   Omega2 | p (Omega2) |   LR | p (LR)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ------------------------------------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m1   |    lm |       |          |            |      |       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m2   |    lm | 0.007 | 9.54e-04 |      0.935 | 0.15 |  0.919</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m3   |    lm | 0.037 |     0.02 |      0.081 | 3.41 |  0.099</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Models were detected as nested and are compared in sequential order.</span>
<span class='r-in'></span>
<span class='r-in'><span class='fu'>test_bf</span><span class='op'>(</span><span class='va'>m1</span>, <span class='va'>m2</span>, <span class='va'>m3</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #0000BB;'>Bayes Factors for Model Comparison</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>      Model                       BF</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [m2] Petal.Width + Species    0.007</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [m3] Petal.Width * Species 2.64e-04</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> * Against Denominator: <span style='color: #00BBBB;'>[m1] Petal.Width</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> *   Bayes Factor Type: <span style='color: #00BBBB;'>BIC approximation</span></span>
<span class='r-in'><span class='fu'>test_wald</span><span class='op'>(</span><span class='va'>m1</span>, <span class='va'>m2</span>, <span class='va'>m3</span><span class='op'>)</span> <span class='co'># Equivalent to anova(m1, m2, m3)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Name | Model |  df | df_diff |    F |     p</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> -------------------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m1   |    lm | 148 |         |      |      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m2   |    lm | 146 |    2.00 | 0.08 | 0.927</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m3   |    lm | 144 |    2.00 | 1.66 | 0.195</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Models were detected as nested and are compared in sequential order.</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Equivalent to lmtest::lrtest(m1, m2, m3)</span></span>
<span class='r-in'><span class='fu'>test_likelihoodratio</span><span class='op'>(</span><span class='va'>m1</span>, <span class='va'>m2</span>, <span class='va'>m3</span>, estimator <span class='op'>=</span> <span class='st'>"ML"</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #0000BB;'># Likelihood-Ratio-Test (LRT) for Model Comparison</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Name | Model | df | df_diff | Chi2 |     p</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ------------------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m1   |    lm |  3 |         |      |      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m2   |    lm |  5 |       2 | 0.15 | 0.926</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m3   |    lm |  7 |       2 | 3.41 | 0.182</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Equivalent to anova(m1, m2, m3, test='LRT')</span></span>
<span class='r-in'><span class='fu'>test_likelihoodratio</span><span class='op'>(</span><span class='va'>m1</span>, <span class='va'>m2</span>, <span class='va'>m3</span>, estimator <span class='op'>=</span> <span class='st'>"OLS"</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #0000BB;'># Likelihood-Ratio-Test (LRT) for Model Comparison</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Name | Model | df | df_diff | Chi2 |     p</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ------------------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m1   |    lm |  3 |         |      |      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m2   |    lm |  5 |       2 | 0.15 | 0.927</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m3   |    lm |  7 |       2 | 3.31 | 0.191</span>
<span class='r-in'></span>
<span class='r-in'><span class='fu'>test_vuong</span><span class='op'>(</span><span class='va'>m1</span>, <span class='va'>m2</span>, <span class='va'>m3</span><span class='op'>)</span> <span class='co'># nonnest2::vuongtest(m1, m2, nested=TRUE)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Name | Model |   Omega2 | p (Omega2) |   LR | p (LR)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ----------------------------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m1   |    lm |          |            |      |       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m2   |    lm | 9.54e-04 |      0.935 | 0.15 |  0.919</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m3   |    lm |     0.02 |      0.081 | 3.41 |  0.099</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Models were detected as nested and are compared in sequential order.</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Non-nested Models</span></span>
<span class='r-in'><span class='co'># -----------------</span></span>
<span class='r-in'><span class='va'>m1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Sepal.Length</span> <span class='op'>~</span> <span class='va'>Petal.Width</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>m2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Sepal.Length</span> <span class='op'>~</span> <span class='va'>Petal.Length</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>m3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Sepal.Length</span> <span class='op'>~</span> <span class='va'>Species</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='fu'>test_performance</span><span class='op'>(</span><span class='va'>m1</span>, <span class='va'>m2</span>, <span class='va'>m3</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Name | Model |      BF | Omega2 | p (Omega2) |    LR | p (LR)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> -------------------------------------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m1   |    lm |         |        |            |       |       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m2   |    lm |  &gt; 1000 |   0.19 |     &lt; .001 | -4.57 | &lt; .001</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m3   |    lm | &lt; 0.001 |   0.12 |     &lt; .001 |  2.51 | 0.006 </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Each model is compared to m1.</span>
<span class='r-in'><span class='fu'>test_bf</span><span class='op'>(</span><span class='va'>m1</span>, <span class='va'>m2</span>, <span class='va'>m3</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #0000BB;'>Bayes Factors for Model Comparison</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>      Model              BF</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [m2] Petal.Length 2.90e+10</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [m3] Species      2.00e-06</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> * Against Denominator: <span style='color: #00BBBB;'>[m1] Petal.Width</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> *   Bayes Factor Type: <span style='color: #00BBBB;'>BIC approximation</span></span>
<span class='r-in'><span class='fu'>test_vuong</span><span class='op'>(</span><span class='va'>m1</span>, <span class='va'>m2</span>, <span class='va'>m3</span><span class='op'>)</span> <span class='co'># nonnest2::vuongtest(m1, m2)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Name | Model | Omega2 | p (Omega2) |    LR | p (LR)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ---------------------------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m1   |    lm |        |            |       |       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m2   |    lm |   0.19 |     &lt; .001 | -4.57 | &lt; .001</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m3   |    lm |   0.12 |     &lt; .001 |  2.51 | 0.006 </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Each model is compared to m1.</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Tweak the output</span></span>
<span class='r-in'><span class='co'># ----------------</span></span>
<span class='r-in'><span class='fu'>test_performance</span><span class='op'>(</span><span class='va'>m1</span>, <span class='va'>m2</span>, <span class='va'>m3</span>, include_formula <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Name |                           Model |      BF | Omega2 | p (Omega2) |    LR | p (LR)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ---------------------------------------------------------------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m1   |  lm(Sepal.Length ~ Petal.Width) |         |        |            |       |       </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m2   | lm(Sepal.Length ~ Petal.Length) |  &gt; 1000 |   0.19 |     &lt; .001 | -4.57 | &lt; .001</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m3   |      lm(Sepal.Length ~ Species) | &lt; 0.001 |   0.12 |     &lt; .001 |  2.51 | 0.006 </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Each model is compared to m1.</span>
<span class='r-in'></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># SEM / CFA (lavaan objects)</span></span>
<span class='r-in'><span class='co'># --------------------------</span></span>
<span class='r-in'><span class='co'># Lavaan Models</span></span>
<span class='r-in'><span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://lavaan.ugent.be'>"lavaan"</a></span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span></span>
<span class='r-in'>  <span class='va'>structure</span> <span class='op'>&lt;-</span> <span class='st'>" visual  =~ x1 + x2 + x3</span>
<span class='r-in'>                 textual =~ x4 + x5 + x6</span>
<span class='r-in'>                 speed   =~ x7 + x8 + x9</span>
<span class='r-in'></span>
<span class='r-in'>                  visual ~~ textual + speed "</span></span>
<span class='r-in'>  <span class='va'>m1</span> <span class='op'>&lt;-</span> <span class='fu'>lavaan</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lavaan/man/cfa.html'>cfa</a></span><span class='op'>(</span><span class='va'>structure</span>, data <span class='op'>=</span> <span class='va'>HolzingerSwineford1939</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'>  <span class='va'>structure</span> <span class='op'>&lt;-</span> <span class='st'>" visual  =~ x1 + x2 + x3</span>
<span class='r-in'>                 textual =~ x4 + x5 + x6</span>
<span class='r-in'>                 speed   =~ x7 + x8 + x9</span>
<span class='r-in'></span>
<span class='r-in'>                  visual ~~ 0 * textual + speed "</span></span>
<span class='r-in'>  <span class='va'>m2</span> <span class='op'>&lt;-</span> <span class='fu'>lavaan</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lavaan/man/cfa.html'>cfa</a></span><span class='op'>(</span><span class='va'>structure</span>, data <span class='op'>=</span> <span class='va'>HolzingerSwineford1939</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'>  <span class='va'>structure</span> <span class='op'>&lt;-</span> <span class='st'>" visual  =~ x1 + x2 + x3</span>
<span class='r-in'>                 textual =~ x4 + x5 + x6</span>
<span class='r-in'>                 speed   =~ x7 + x8 + x9</span>
<span class='r-in'></span>
<span class='r-in'>                  visual ~~ 0 * textual + 0 * speed "</span></span>
<span class='r-in'>  <span class='va'>m3</span> <span class='op'>&lt;-</span> <span class='fu'>lavaan</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lavaan/man/cfa.html'>cfa</a></span><span class='op'>(</span><span class='va'>structure</span>, data <span class='op'>=</span> <span class='va'>HolzingerSwineford1939</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'>  <span class='fu'>test_likelihoodratio</span><span class='op'>(</span><span class='va'>m1</span>, <span class='va'>m2</span>, <span class='va'>m3</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'>  <span class='co'># Different Model Types</span></span>
<span class='r-in'>  <span class='co'># ---------------------</span></span>
<span class='r-in'>  <span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'><a href='https://github.com/lme4/lme4/'>"lme4"</a></span><span class='op'>)</span> <span class='op'>&amp;&amp;</span> <span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='st'>"mgcv"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span></span>
<span class='r-in'>    <span class='va'>m1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Sepal.Length</span> <span class='op'>~</span> <span class='va'>Petal.Length</span> <span class='op'>+</span> <span class='va'>Species</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span></span>
<span class='r-in'>    <span class='va'>m2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/lme4/man/lmer.html'>lmer</a></span><span class='op'>(</span><span class='va'>Sepal.Length</span> <span class='op'>~</span> <span class='va'>Petal.Length</span> <span class='op'>+</span> <span class='op'>(</span><span class='fl'>1</span> <span class='op'>|</span> <span class='va'>Species</span><span class='op'>)</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span></span>
<span class='r-in'>    <span class='va'>m3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/mgcv/man/gam.html'>gam</a></span><span class='op'>(</span><span class='va'>Sepal.Length</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/pkg/mgcv/man/s.html'>s</a></span><span class='op'>(</span><span class='va'>Petal.Length</span>, by <span class='op'>=</span> <span class='va'>Species</span><span class='op'>)</span> <span class='op'>+</span> <span class='va'>Species</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'>    <span class='fu'>test_performance</span><span class='op'>(</span><span class='va'>m1</span>, <span class='va'>m2</span>, <span class='va'>m3</span><span class='op'>)</span></span>
<span class='r-in'>  <span class='op'>}</span></span>
<span class='r-in'><span class='op'>}</span></span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> Loading required package: mgcv</span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> This is mgcv 1.8-35. For overview type 'help("mgcv-package")'.</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Name |   Model |      BF</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m1   |      lm |        </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m2   | lmerMod | &lt; 0.001</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> m3   |     gam |   0.038</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Each model is compared to m1.</span>
</code></pre></div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>, <a href="https://dominiquemakowski.github.io/" class="external-link">Dominique Makowski</a>, <a href="https://github.com/mattansb" class="external-link">Mattan S. Ben-Shachar</a>, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, Philip Waggoner, <a href="https://wiernik.org/" class="external-link">Brenton M. Wiernik</a>.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


